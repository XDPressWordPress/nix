(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[358],{1010:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},1360:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},4652:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return d},getImageProps:function(){return c}});let a=s(8140),r=s(5040),i=s(1356),l=a._(s(1124));function c(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let d=i.Image},5239:(e,t,s)=>{"use strict";s.d(t,{default:()=>r.a});var a=s(4652),r=s.n(a)},5626:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6191:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8350:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(5155),r=s(2115),i=s(2619),l=s.n(i),c=s(5239),d=s(5626),n=s(6191),h=s(9715);let x=(0,s(1847).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var o=s(1010),m=s(1360);function p(){let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0);(0,r.useEffect)(()=>{p()},[]);let p=async()=>{try{let e=await fetch("/api/posts");if(e.ok){let s=await e.json();t(s)}}catch(e){console.error("Erro ao carregar posts:",e)}i(!1)},y=async s=>{if(confirm("Tem certeza que deseja excluir este post?"))try{(await fetch("/api/posts/".concat(s),{method:"DELETE"})).ok&&t(e.filter(e=>e.id!==s))}catch(e){console.error("Erro ao excluir post:",e)}};return s?(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-xl",children:"Carregando..."})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-100",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(l(),{href:"/admin/dashboard",className:"text-primary-600 hover:text-primary-700",children:(0,a.jsx)(d.A,{className:"h-6 w-6"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gerenciar Posts"})]}),(0,a.jsxs)(l(),{href:"/admin/posts/new",className:"bg-secondary-600 hover:bg-secondary-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center",children:[(0,a.jsx)(n.A,{className:"h-5 w-5 mr-2"}),"Criar Post"]})]}),e.length>0?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Post"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>{let t;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-16 w-16",children:e.image?(0,a.jsx)(c.default,{src:e.image,alt:e.title,width:64,height:64,className:"h-16 w-16 rounded-lg object-cover"}):(0,a.jsx)("div",{className:"h-16 w-16 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,a.jsx)(h.A,{className:"h-6 w-6 text-gray-400"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:e.title}),e.excerpt&&(0,a.jsx)("div",{className:"text-sm text-gray-500 line-clamp-1",children:e.excerpt})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,a.jsx)(x,{className:"h-4 w-4 mr-1"}),(t=e.createdAt,new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(t)))]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(e.published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.published?"Publicado":"Rascunho"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 justify-end",children:[(0,a.jsx)(l(),{href:"/admin/posts/edit/".concat(e.id),className:"text-primary-600 hover:text-primary-700",children:(0,a.jsx)(o.A,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>y(e.id),className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(m.A,{className:"h-4 w-4"})})]})})]},e.id)})})]})})}):(0,a.jsxs)("div",{className:"text-center py-16 bg-white rounded-lg shadow-lg",children:[(0,a.jsx)(h.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Nenhum post cadastrado"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Comece criando o primeiro post do blog."}),(0,a.jsxs)(l(),{href:"/admin/posts/new",className:"inline-flex items-center bg-secondary-600 hover:bg-secondary-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:[(0,a.jsx)(n.A,{className:"h-5 w-5 mr-2"}),"Criar Primeiro Post"]})]})]})})}},9715:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},9776:(e,t,s)=>{Promise.resolve().then(s.bind(s,8350))}},e=>{e.O(0,[297,356,441,255,977],()=>e(e.s=9776)),_N_E=e.O()}]);