(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[599],{63:(e,r,a)=>{"use strict";var s=a(7260);a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}})},4165:(e,r,a)=>{Promise.resolve().then(a.bind(a,9043))},5229:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});let s=(0,a(1847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5626:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});let s=(0,a(1847).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6046:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});let s=(0,a(1847).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},6191:(e,r,a)=>{"use strict";a.d(r,{A:()=>s});let s=(0,a(1847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9043:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>p});var s=a(5155),t=a(2115),l=a(2619),o=a.n(l),n=a(63),d=a(5626),i=a(5229),m=a(6191),c=a(6046);function p(){let[e,r]=(0,t.useState)({title:"",description:"",price:"",address:"",bedrooms:"",bathrooms:"",area:"",type:"apartment",status:"available"}),[a,l]=(0,t.useState)([""]),[p,u]=(0,t.useState)(!1),h=(0,n.useRouter)(),x=e=>{let{name:a,value:s}=e.target;r(e=>({...e,[a]:s}))},b=async r=>{r.preventDefault(),u(!0);try{let r={...e,price:parseFloat(e.price),bedrooms:e.bedrooms?parseInt(e.bedrooms):null,bathrooms:e.bathrooms?parseInt(e.bathrooms):null,area:e.area?parseFloat(e.area):null,images:a.filter(e=>""!==e.trim())};(await fetch("/api/properties",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok?h.push("/admin/properties"):alert("Erro ao salvar im\xf3vel")}catch(e){console.error("Erro:",e),alert("Erro ao salvar im\xf3vel")}u(!1)};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-100",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 mb-8",children:[(0,s.jsx)(o(),{href:"/admin/properties",className:"text-primary-600 hover:text-primary-700",children:(0,s.jsx)(d.A,{className:"h-6 w-6"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Adicionar Novo Im\xf3vel"})]}),(0,s.jsxs)("form",{onSubmit:b,className:"bg-white rounded-lg shadow-lg p-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"T\xedtulo *"}),(0,s.jsx)("input",{type:"text",id:"title",name:"title",value:e.title,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Ex: Apartamento 3 Quartos no Centro"})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Descri\xe7\xe3o *"}),(0,s.jsx)("textarea",{id:"description",name:"description",value:e.description,onChange:x,required:!0,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Descreva o im\xf3vel em detalhes..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-2",children:"Pre\xe7o (R$) *"}),(0,s.jsx)("input",{type:"number",id:"price",name:"price",value:e.price,onChange:x,required:!0,step:"0.01",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"850000.00"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Endere\xe7o *"}),(0,s.jsx)("input",{type:"text",id:"address",name:"address",value:e.address,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Rua das Flores, 123 - Centro"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"bedrooms",className:"block text-sm font-medium text-gray-700 mb-2",children:"Quartos"}),(0,s.jsx)("input",{type:"number",id:"bedrooms",name:"bedrooms",value:e.bedrooms,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"3"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-2",children:"Banheiros"}),(0,s.jsx)("input",{type:"number",id:"bathrooms",name:"bathrooms",value:e.bathrooms,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"2"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"area",className:"block text-sm font-medium text-gray-700 mb-2",children:"\xc1rea (m\xb2)"}),(0,s.jsx)("input",{type:"number",id:"area",name:"area",value:e.area,onChange:x,step:"0.01",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"120.5"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo *"}),(0,s.jsxs)("select",{id:"type",name:"type",value:e.type,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"apartment",children:"Apartamento"}),(0,s.jsx)("option",{value:"house",children:"Casa"}),(0,s.jsx)("option",{value:"commercial",children:"Comercial"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),(0,s.jsxs)("select",{id:"status",name:"status",value:e.status,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"available",children:"Dispon\xedvel"}),(0,s.jsx)("option",{value:"sold",children:"Vendido"}),(0,s.jsx)("option",{value:"rented",children:"Alugado"})]})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URLs das Imagens"}),a.map((e,r)=>(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,s.jsx)("input",{type:"url",value:e,onChange:e=>((e,r)=>{let s=[...a];s[e]=r,l(s)})(r,e.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"https://images.pexels.com/photos/..."}),a.length>1&&(0,s.jsx)("button",{type:"button",onClick:()=>{l(a.filter((e,a)=>a!==r))},className:"text-red-600 hover:text-red-700",children:(0,s.jsx)(i.A,{className:"h-5 w-5"})})]},r)),(0,s.jsxs)("button",{type:"button",onClick:()=>{l([...a,""])},className:"flex items-center text-primary-600 hover:text-primary-700 font-medium",children:[(0,s.jsx)(m.A,{className:"h-4 w-4 mr-1"}),"Adicionar Imagem"]})]})]}),(0,s.jsxs)("div",{className:"mt-8 flex items-center justify-end space-x-4",children:[(0,s.jsx)(o(),{href:"/admin/properties",className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),(0,s.jsxs)("button",{type:"submit",disabled:p,className:"bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center",children:[(0,s.jsx)(c.A,{className:"h-5 w-5 mr-2"}),p?"Salvando...":"Salvar Im\xf3vel"]})]})]})]})})}}},e=>{e.O(0,[297,441,255,977],()=>e(e.s=4165)),_N_E=e.O()}]);